# Mandelbrot Renderer

This project implements a Mandelbrot set renderer using Vulkan, featuring high-precision zoom and psychedelic banded coloring.

## Features

- High-precision double-precision floating-point calculations for deep zooms into the Mandelbrot set.
- Psychedelic banded coloring algorithm, and a new random non-graduated palette.
- Interactive zoom:
    - Left-click to zoom in on the cursor position.
    - Right-click to zoom out.
    - Press 'C' to randomize the color offset for the psychedelic palette.
    - Press 'D' to toggle between the psychedelic banded coloring and a new totally random, non-graduated palette. Each time 'D' is pressed while in random palette mode, a new set of random colors is generated.

## Building and Running

To build and run this project, you need to have the Vulkan SDK and GLFW installed.

1.  **Clone the repository:**
    ```bash
    git clone https://github.com/zdomjus60/mandelbrot_hi_res.git
    cd mandelbrot_hi_res
    ```

2.  **Create a build directory and run CMake:**
    ```bash
    mkdir build
    cd build
    cmake ..
    ```

3.  **Build the project:**
    ```bash
    cmake --build .
    ```

4.  **Run the application:**
    ```bash
    ./MandelbrotRenderer
    ```

## Technical Deep Dive

This project tackles the challenge of rendering the Mandelbrot set with extreme precision and visual flair using the Vulkan graphics API.

### High-Precision Calculations

The Mandelbrot set requires iterative calculations, and for deep zooms, standard single-precision floating-point numbers (floats) quickly lose accuracy, leading to pixelation and incorrect rendering. To overcome this, the renderer utilizes `double` precision floating-point numbers directly within the GLSL shaders. This allows for significantly greater accuracy, enabling exploration of intricate details far beyond what single-precision can achieve.

### Shader Compilation and SPIR-V Compatibility

A key challenge encountered during development was ensuring compatibility between the GLSL shaders and the Vulkan runtime. The `glslangValidator` tool, used to compile GLSL into SPIR-V (Vulkan's intermediate shader representation), was generating SPIR-V version 1.3. However, the initial Vulkan instance was configured to expect SPIR-V 1.0 (due to `VK_API_VERSION_1_0`). This mismatch caused validation errors during shader module creation. The solution involved explicitly updating the `apiVersion` in the `VkApplicationInfo` structure to `VK_API_VERSION_1_1` (or higher) to align with the SPIR-V version generated by the compiler, thus resolving the compatibility issue.

### Coloring Algorithm

Instead of traditional smooth coloring, this renderer employs a "psychedelic banded" coloring algorithm. This approach uses the iteration count (`i_float`) at which a point escapes the Mandelbrot set to determine its color. By applying trigonometric functions (like `sin` or `cos`) to the iteration count, often combined with a color offset, a vibrant, banded, and often psychedelic visual effect is achieved. This method provides a distinct aesthetic that highlights the fractal's iterative nature.

### Interactive Zoom and Animation

The application provides interactive controls for exploring the Mandelbrot set:
-   **Left-click:** Zooms in on the cursor's position. The new center and zoom level are calculated based on the mouse coordinates, ensuring a precise zoom into the area of interest.
-   **Right-click:** Zooms out, effectively increasing the visible area of the fractal.
-   **'C' key:** Randomizes the color offset, allowing for dynamic changes to the banded coloring without affecting the fractal's geometry.

Zoom transitions are smoothly animated using a `smoothstep` easing function. This provides a more visually pleasing experience by gradually interpolating between the starting and target zoom/center coordinates over a short duration.

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.